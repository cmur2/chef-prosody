
VirtualHost "<%= @host_name %>"

<% if @host[:muc] %>
Component "<%= @host[:muc][:hostname] %>" "muc"
	<%= "name = #{@node.lua_type(@host[:muc][:name])};" if @host[:muc][:name] %>
	<%= "restrict_room_creation = #{@node.lua_type(@host[:muc][:restrict_room_creation])};" if @host[:muc][:restrict_room_creation] %>
	<%= "max_history_messages = #{@node.lua_type(@host[:muc][:max_history_messages])};" if @host[:muc][:max_history_messages] %>
<% end %>

<% if @host[:proxy65] %>
Component "<%= @host[:proxy65][:hostname] %>" "proxy65"
	<%= "proxy65_interface = #{@node.lua_type(@host[:proxy65][:interface])};" if @host[:proxy65][:interface] %>
	<%= "proxy65_address = #{@node.lua_type(@host[:proxy65][:address])};" if @host[:proxy65][:address] %>
	<%= "proxy65_port = #{@node.lua_type(@host[:proxy65][:port])};" if @host[:proxy65][:port] %>
	<%= "proxy65_acl = #{@node.lua_type(@host[:proxy65][:acl])};" if @host[:proxy65][:acl] %>
<% end %>

<% if @host[:pubsub] %>
Component "<%= @host[:pubsub][:hostname] %>" "pubsub"
<% end %>
